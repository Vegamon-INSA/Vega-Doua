import javax.swing.*;
import java.awt.Color;
import java.awt.event.*;
import java.util.ArrayList;

public class FenetreCombat extends JFrame implements ActionListener{
	 
    private JPanel p1,p2,p3,p4,p5,p,pmap,lastmap,pmap1,pmap2,pmap3,pmap4,pmap5,pmap6,pmap7,pmap8,pmap9,pmap10,pmap11,pmap12,pmap13,pmap14,pmap15,pmap16,pmap17,pmap18,pmap19,pmap20, viePerso, vieAdv;
    private JLabel fond,l1,l2,l3,turne,turnevois,feyssine,trav1,trav2,mville,maison1,maison2,maison5,arene1,im1rdc,im11,huma1,huma2,ville, etage1,etage2,maison3,maison4,centre,arene,lab2,Meloche,gif;
    private JButton attaque, soin,fuite,a1,a2,a3,a4,annuler;
    private Timer t,t2, t3, t4;
    private boolean freeze,trefle,b;
    private VEGAMONS perso, advers, pA, pD;
    private int x, y, x1, y1,j,exp,type;
    private ArrayList<VEGAMONS> pokedex;
    
    public FenetreCombat(ArrayList<VEGAMONS> lePokedex){
        this.setTitle("Vegamon La Doua");
        this.setSize(600,600);
        this.setLocation(500,100);
        
		freeze = false;
		trefle = true; //qd code de la map sera bon mettre a false
        pokedex=lePokedex;
        perso = pokedex.get(0);
        x=100;
        y=135;            // coordonnées des icons des pokemons
        x1=420;
        y1=30;
        
        ///INTERFACE DEPLACEMENT & MAP
        
        //MAP DU DEPART
        pmap = new JPanel();
        pmap.setBounds(0,0,600,600);
        pmap.setBackground(Color.green);
        pmap.setLayout(null);
        this.add(pmap);
        
        turne = new JLabel(new ImageIcon("Images/LaFeyssine/Taturne.png")); 
        turne.setBounds(0,0,600,600);
        pmap.add(turne);
        
        lastmap=pmap; //qd on change de map, changer valeur de lastmap
        this.setVisible(true); 
        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        
        //TURNE VOISIN
        pmap1 = new JPanel();
        pmap1.setBounds(0,0,600,600);
        pmap1.setBackground(Color.green);
        pmap1.setLayout(null);
        this.add(pmap1);
		pmap1.setVisible(false);
        
        turnevois = new JLabel(new ImageIcon("Images/LaFeyssine/turnevois.png")); 
        turnevois.setBounds(0,0,600,600);
        pmap1.add(turnevois);
        
        //LA FEYSSINE
        pmap2 = new JPanel();
        pmap2.setBounds(0,0,600,600);
        pmap2.setBackground(Color.green);
        pmap2.setLayout(null);
        this.add(pmap2);
		pmap2.setVisible(false);
		
        feyssine = new JLabel(new ImageIcon("Images/LaFeyssine/LaFeyssine.png")); 
        feyssine.setBounds(0,0,600,600);
        pmap2.add(feyssine);
        
        //TRAVEES 1
        pmap3 = new JPanel();
        pmap3.setBounds(0,0,600,600);
        pmap3.setBackground(Color.green);
        pmap3.setLayout(null);
        this.add(pmap3);
		pmap3.setVisible(false);
		
        trav1 = new JLabel(new ImageIcon("Images/Route1-Travees/travees1.png")); 
        trav1.setBounds(0,0,600,600);
        pmap3.add(trav1);
        
        //TRAVEES 2
        pmap4 = new JPanel();
        pmap4.setBounds(0,0,600,600);
        pmap4.setBackground(Color.green);
        pmap4.setLayout(null);
        this.add(pmap4);
		pmap4.setVisible(false);
		
        trav2 = new JLabel(new ImageIcon("Images/Route1-Travees/travees2.png")); 
        trav2.setBounds(0,0,600,600);
        pmap4.add(trav2);
        
        //MINI VILLE 1 (PC)
        pmap5 = new JPanel();
        pmap5.setBounds(0,0,600,600);
        pmap5.setBackground(Color.green);
        pmap5.setLayout(null);
        this.add(pmap5);
		pmap5.setVisible(false);
		
        mville = new JLabel(new ImageIcon("Images/miniville1PC/PC.png")); //modif chemin qd yaura map
        mville.setBounds(0,0,600,600);
        pmap5.add(mville);
        
        //MAISON1 
        pmap6 = new JPanel();
        pmap6.setBounds(0,0,600,600);
        pmap6.setBackground(Color.green);
        pmap6.setLayout(null);
        this.add(pmap6);
		pmap6.setVisible(false);
		
        maison1 = new JLabel(new ImageIcon("Images/miniville1PC/mPC1.png")); //modif chemin qd yaura map
        maison1.setBounds(0,0,600,600);
        pmap6.add(maison1);
        
        //MAISON2
        pmap7 = new JPanel();
        pmap7.setBounds(0,0,600,600);
        pmap7.setBackground(Color.green);
        pmap7.setLayout(null);
        this.add(pmap7);
		pmap7.setVisible(false);
		
        maison2 = new JLabel(new ImageIcon("Images/miniville1PC/mPC2.png")); //modif chemin qd yaura map
        maison2.setBounds(0,0,600,600);
        pmap7.add(maison2);
        
        //MAISON3 (5)
        pmap17 = new JPanel();
        pmap17.setBounds(0,0,600,600);
        pmap17.setBackground(Color.green);
        pmap17.setLayout(null);
        this.add(pmap17);
		pmap17.setVisible(false);
		
        maison5 = new JLabel(new ImageIcon("Images/miniville1PC/mPC3.png")); //modif chemin qd yaura map
        maison5.setBounds(0,0,600,600);
        pmap17.add(maison5);
        
         //IMMEUBLE1 rdc
        pmap18 = new JPanel();
        pmap18.setBounds(0,0,600,600);
        pmap18.setBackground(Color.green);
        pmap18.setLayout(null);
        this.add(pmap18);
		pmap18.setVisible(false);
		
        im1rdc = new JLabel(new ImageIcon("Images/miniville1PC/PCetage1Im.png")); //modif chemin qd yaura map
        im1rdc.setBounds(0,0,600,600);
        pmap18.add(im1rdc);
        
        //IMMEUBLE1 etage
        pmap19 = new JPanel();
        pmap19.setBounds(0,0,600,600);
        pmap19.setBackground(Color.green);
        pmap19.setLayout(null);
        this.add(pmap19);
		pmap19.setVisible(false);
		
        im11 = new JLabel(new ImageIcon("Images/miniville1PC/PCetage1Im.png")); //modif chemin qd yaura map
        im11.setBounds(0,0,600,600);
        pmap19.add(im11);
        
        //ARENE1
        pmap20 = new JPanel();
        pmap20.setBounds(0,0,600,600);
        pmap20.setBackground(Color.green);
        pmap20.setLayout(null);
        this.add(pmap20);
		pmap20.setVisible(false);
		
        arene1 = new JLabel(new ImageIcon("Images/miniville1PC/PCetage1Im.png")); //modif chemin qd yaura map
        arene1.setBounds(0,0,600,600);
        pmap20.add(arene1);
        
        //HUMAS1
        pmap8 = new JPanel();
        pmap8.setBounds(0,0,600,600);
        pmap8.setBackground(Color.green);
        pmap8.setLayout(null);
        this.add(pmap8);
		pmap8.setVisible(false);
		
        huma1 = new JLabel(new ImageIcon("Images/Route1-Travees/travees2.png")); //modif chemin qd yaura map
        huma1.setBounds(0,0,600,600);
        pmap8.add(huma1);
        
        //HUMAS2
        pmap9 = new JPanel();
        pmap9.setBounds(0,0,600,600);
        pmap9.setBackground(Color.green);
        pmap9.setLayout(null);
        this.add(pmap9);
		pmap9.setVisible(false);
		
        huma2 = new JLabel(new ImageIcon("Images/Route1-Travees/travees2.png")); //modif chemin qd yaura map
        huma2.setBounds(0,0,600,600);
        pmap9.add(huma2);
        
        //VILLE 
        pmap10 = new JPanel();
        pmap10.setBounds(0,0,600,600);
        pmap10.setBackground(Color.green);
        pmap10.setLayout(null);
        this.add(pmap10);
		pmap10.setVisible(false);
		
        ville = new JLabel(new ImageIcon("Images/Route1-Travees/travees2.png")); //modif chemin qd yaura map
        ville.setBounds(0,0,600,600);
        pmap10.add(ville);
        
        //ARENE
        pmap11 = new JPanel();
        pmap11.setBounds(0,0,600,600);
        pmap11.setBackground(Color.green);
        pmap11.setLayout(null);
        this.add(pmap11);
		pmap11.setVisible(false);
		
        arene = new JLabel(new ImageIcon("Images/Route1-Travees/travees2.png")); //modif chemin qd yaura map
        arene.setBounds(0,0,600,600);
        pmap11.add(arene);
        
        //IMMEUBLE ETAGE 1
        pmap12 = new JPanel();
        pmap12.setBounds(0,0,600,600);
        pmap12.setBackground(Color.green);
        pmap12.setLayout(null);
        this.add(pmap12);
		pmap12.setVisible(false);
		
        etage1 = new JLabel(new ImageIcon("Images/Route1-Travees/travees2.png")); //modif chemin qd yaura map
        etage1.setBounds(0,0,600,600);
        pmap12.add(etage1);
        
        //IMMEUBLE ETAGE 2
        pmap13 = new JPanel();
        pmap13.setBounds(0,0,600,600);
        pmap13.setBackground(Color.green);
        pmap13.setLayout(null);
        this.add(pmap13);
		pmap13.setVisible(false);
		
        etage2 = new JLabel(new ImageIcon("Images/Route1-Travees/travees2.png")); //modif chemin qd yaura map
        etage2.setBounds(0,0,600,600);
        pmap13.add(etage2);
        
        //CENTRE POKE
        pmap14 = new JPanel();
        pmap14.setBounds(0,0,600,600);
        pmap14.setBackground(Color.green);
        pmap14.setLayout(null);
        this.add(pmap14);
		pmap14.setVisible(false);
		
        centre = new JLabel(new ImageIcon("Images/Route1-Travees/travees2.png")); //modif chemin qd yaura map
        centre.setBounds(0,0,600,600);
        pmap14.add(centre);
        
        //MAISON3
        pmap15 = new JPanel();
        pmap15.setBounds(0,0,600,600);
        pmap15.setBackground(Color.green);
        pmap15.setLayout(null);
        this.add(pmap15);
		pmap15.setVisible(false);
		
        maison3 = new JLabel(new ImageIcon("Images/Route1-Travees/travees2.png")); //modif chemin qd yaura map
        maison3.setBounds(0,0,600,600);
        pmap15.add(maison3);
        
        //MAISON4
		pmap16 = new JPanel();
        pmap16.setBounds(0,0,600,600);
        pmap16.setBackground(Color.green);
        pmap16.setLayout(null);
        this.add(pmap16);
		pmap16.setVisible(false);
		
        maison4 = new JLabel(new ImageIcon("Images/Route1-Travees/travees2.png")); //modif chemin qd yaura map
        maison4.setBounds(0,0,600,600);
        pmap16.add(maison4);
    
        ///INTERFACE COMBAT
        p1 = new JPanel();
        p1.setSize(600,300);
        p1.setLocation(0,0);
        p1.setBackground(Color.green); 
        p1.setLayout(null);
        this.add(p1);
        
        p2 =new JPanel();
        p2.setBounds(0, 300, 600, 300);
        p2.setBackground(new Color(152, 143, 134));
        p2.setLayout(null);
        this.add(p2);
        
        p3 = new JPanel();
        p3.setBounds(30,246,540,50);
        p3.setBackground(Color.white);
        p1.add(p3);
        
        p4 = new JPanel();
        p4.setBounds(29, 13, 271, 48);
        p4.setBackground(Color.white);
        p4.setLayout(null);
        p1.add(p4);
        
        p5 = new JPanel();
        p5.setBounds(306, 174, 271, 48);
        p5.setBackground(Color.white);
        p5.setLayout(null);
        p1.add(p5);
        
        fond = new JLabel(new ImageIcon("Images/interface.png")); 
        fond.setBounds(0,0,600,300);
        p1.add(fond);
        
        Meloche = new JLabel(new ImageIcon("Images/Meloche.png")); 
        Meloche.setBounds(x,y,80,100);
        fond.add(Meloche);
        
        gif = new JLabel(new ImageIcon("Images/pokexplo.gif")); 
        gif.setBounds(150,-80,600,300);
        fond.add(gif);
        gif.setVisible(false);
        
        l1= new JLabel("Que dois-je faire ?" );
        l1.setBounds(0,0,540,50);
        l1.setBackground(Color.red);
        p3.add(l1);
        
        l2 = new JLabel(" " );
        l2.setBounds(50,-10,268, 45);
        l2.setBackground(Color.white); 
        p4.add(l2);
        
        l3 = new JLabel(perso.nom + "     XP : " + perso.XP + "     PV : " + perso.PV);
        l3.setBounds(20,-10,268, 45);
        l3.setBackground(Color.white);
        p5.add(l3);
        
        attaque = new JButton("Attaque");
        attaque.setBounds(150, 330, 300, 100);
        attaque.setBackground(new Color(240, 34, 51));
        attaque.addActionListener(this);;
        p2.add(attaque);
        
        soin = new JButton("Soin");
        soin.setBounds(150, 450, 130, 80);
        soin.setBackground(new Color(135, 211, 0));
        soin.addActionListener(this);
        p2.add(soin);
        
        fuite = new JButton("Fuite");
        fuite.setBounds(320, 450, 130, 80);
        fuite.setBackground(new Color (0, 196, 220));
        fuite.addActionListener(this);
        p2.add(fuite);

        p = new JPanel();
        p.setBounds(0, 300, 600, 300);
        p.setBackground(Color.gray); 
        p.setLayout(null);
        this.add(p);
        
        a1 = new JButton("feu :  "+perso.attaque1.nom); 
        a1.setBounds(100, 330, 165, 50);
        a1.setBackground(new Color(240, 34, 51));
        a1.addActionListener(this);
        p.add(a1);
        
        a2 = new JButton("plante :  "+perso.attaque2.nom);
        a2.setBounds(335, 330, 165, 50);
        a2.setBackground(new Color(135, 211, 0));
        a2.addActionListener(this); 
        p.add(a2);
        
        a3 = new JButton("eau :  "+perso.attaque3.nom);
        a3.setBounds(100, 400, 165, 50);
        a3.setBackground(new Color (0, 196, 220));
        a3.addActionListener(this);
        p.add(a3);
        
        a4 = new JButton("elec :  "+perso.attaque4.nom);
        a4.setBounds(335, 400, 165, 50);
        a4.setBackground(new Color (250, 230, 0));
        a4.addActionListener(this);
        p.add(a4);
        
        annuler = new JButton("Annuler");
        annuler.setBounds(155, 475, 300, 50);
        annuler.setBackground(new Color (152, 143, 134));
        annuler.addActionListener(this); 
        p.add(annuler);
        
        viePerso = new JPanel();
        viePerso.setLocation(20, 33);
        viePerso.setSize((int)(230.0*(double)(perso.PV)/(double)(perso.PVmax)), 5);
        viePerso.setBackground(Color.green);
        p5.add(viePerso);
        
        vieAdv = new JPanel();
        vieAdv.setLocation(20, 33);
        vieAdv.setBackground(Color.green);
        p4.add(vieAdv);
       
        p.setVisible(false);    
        
        if(trefle==true){
            p2.setVisible(true);
            pmap.setVisible(false);
			p1.setVisible(true);
            debutCombat();
		}
	} 
    
    public void actionPerformed(ActionEvent e){
        /// COMBAT
        if (e.getSource()==attaque && !freeze){
            p2.setVisible(false);      //p2=attaque soin fuite
			p.setVisible(true);        //p= 1,2,3,4 annuler
        }
        
        boolean esquive;
        boolean fin=false;
        
        if (e.getSource()==a1 && !freeze){
            esquive = attaque(1);
            if (esquive==false && finCombat()==false){
                l1.setText(perso.nom+" attaque avec "+perso.attaque1.nom+" !");
                graphAttak(true);
            }else if (esquive==true && finCombat()==false){
               l1.setText(perso.nom+" attaque avec "+perso.attaque1.nom+" !           "+advers.nom+" esquive !");
            }
        }
        
        if (e.getSource()==a2 && !freeze){
            esquive = attaque(2);
            if (esquive==false && finCombat()==false){
                l1.setText(perso.nom+" attaque avec "+perso.attaque2.nom+" !");
                graphAttak(true);
            }else if (esquive==true && finCombat()==false){
               l1.setText(perso.nom+" attaque avec "+perso.attaque2.nom+" !           "+advers.nom+" esquive !");
            }
        }
        
        if (e.getSource()==a3 && !freeze){
            esquive = attaque(3);
            if (esquive==false && finCombat()==false){
                l1.setText(perso.nom+" attaque avec "+perso.attaque3.nom+" !"); 
                graphAttak(true);
            }else if (esquive==true && finCombat()==false){
               l1.setText(perso.nom+" attaque avec "+perso.attaque3.nom+" !           "+advers.nom+" esquive !");
            }
        }
        
        if (e.getSource()==a4 && !freeze){
            esquive = attaque(4);
            if (esquive==false && finCombat()==false){
                l1.setText(perso.nom+" attaque avec "+perso.attaque4.nom+" !");
                graphAttak(true);
            }else if (esquive==true && finCombat()==false){
               l1.setText(perso.nom+" attaque avec "+perso.attaque4.nom+" !           "+advers.nom+" esquive !");
            }
        }
        
        if (e.getSource()==t) { //b=true => a nous de jouer, b=false, on a deja choisi notre attaque
			if (b==true){
                t.stop();
                freeze=false;
                p.setVisible(false);
                p2.setVisible(true);
                l1.setText("Que dois-je faire ?");
                b=false;
            }else{
                fin=finCombat();
                if(advers.PV<=0){
                    t.stop();
                    l1.setText("Vous avez gagne !");
                    graphAttak(true);	
                    t2 = new Timer(2000, this);
                    t2.start();
                    freeze=true;
                    perso.XP=perso.XP + (int)(Math.pow(advers.XP, 0.64));
                    perso.PVmax = perso.PVmax+(int)(2.0+4*Math.log((double)(perso.XP*perso.XP)));
                    perso.PV = perso.PVmax;
				
                } else {
                    esquive=advattaque();
                    if (finCombat()==true){
                        l1.setText("Vous avez perdu !"); 
                        t2 = new Timer(1900, this);
                        t2.start();
                        freeze=true;
                    } else if (esquive==false){
                        l1.setText(advers.nom+" attaque avec "+advAtt()+" !");
                        graphAttak(false);
                        b=true;
                    }else{
                        l1.setText(advers.nom+" attaque avec "+advAtt()+" !           "+perso.nom+" esquive !");
                        b=true;
                    }
                }
            }
		}
        if (e.getSource()==annuler && !freeze){
            p.setVisible(false);
			p2.setVisible(true);
        }
        
        if (e.getSource()==fuite && !freeze){
            l1.setText("Vous prenez la fuite !");			
            t2 = new Timer(2000, this);
			t2.start();
			freeze=true;
        }
        if (e.getSource()==t2){
            p1.setVisible(false);
            p2.setVisible(false);
            lastmap.setVisible(true);
            if (perso.PV<=0){
                this.setVisible(false);  // à changer
            }
            freeze=false;
            t2.stop();
		}
        
        //if (e.getSource()==t3){      // graphisme attaques
            //if (y==20){
                //x=100;
                //y=135;
                //Meloche.setLocation(x,y);
                //t3.stop();
                //freeze=false;
            //}
			//x=x+3;                   // ne rentre pas dans ce timer
            //y=y-1;
            //Meloche.setLocation(x,y);
            //System.out.println(b);
            
		//}
        
        if (e.getSource()==t4){
            gif.setVisible(false);
            //freeze=false;
            t4.stop();
		}

        if (e.getSource()==soin && !freeze){
            soin();
            l1.setText(perso.nom+" se soigne !");
            t = new Timer(2000, this);
			t.start();
			freeze=true;
            p.setVisible(false);
			p2.setVisible(true);
        }
               
		///DEPLACEMENT
    }
    
    public boolean attaque (int j){
        boolean esquive = true;
        double prob = Math.random();
        if (prob > advers.esquive){
            int pts = (int)(1.5*(perso.attaque*coeff(j, advers)*(Math.pow(perso.XP, 0.35)))/advers.defense);
            advers.PV=advers.PV - pts;
            esquive = false;
            l2.setText(advers.nom + "     XP : " + advers.XP + "     PV : " + advers.PV);
            vieAdv.setSize((int)(230.0*(double)(advers.PV)/(double)(advers.PVmax)), 5);
        }
        t = new Timer(2000, this);
        t.start();
        freeze=true;
        p.setVisible(false);
        p2.setVisible(true);

        return esquive;
    }
    
    public boolean advattaque(){
        boolean esquive = true;
        double prob = Math.random();
        if (prob > perso.esquive){
            int pts = (int)(1.5*(advers.attaque*coeff(advers.attaque1.type, perso)*(Math.pow(advers.XP, 0.35)))/perso.defense);
            perso.PV=perso.PV - pts;                                   
            esquive = false;
            l3.setText(perso.nom + "     XP : " + perso.XP + "     PV : " + perso.PV);
            viePerso.setSize((int)(230.0*(double)(perso.PV)/(double)(perso.PVmax)), 5);
        }
        return esquive;
    }
    
    public String advAtt(){
        String str=" ";
        int i = (int)(4*Math.random());
        if (i==0){
            str=advers.attaque1.nom;
        } else if (i==1){
            str=advers.attaque2.nom;
        } else if (i==2){
            str=advers.attaque3.nom;
        } else if (i==3){
            str=advers.attaque4.nom;
        }
        return str;
    }
    
    public int coeff(int typeA , VEGAMONS pD){
        int typeD= pD.type;
        int [][] coef ={{6,6,9,6},{10,6,3,8},{4,8,7,6},{6,6,8,6}};
        return (coef[typeD-1][typeA-1]);
    }
    
    public void soin(){
        int soin=(int)(0.25*perso.PVmax);
        if(perso.PV+soin<perso.PVmax){
            perso.PV=perso.PV+soin;
        }else {
            perso.PV=perso.PVmax;
        }
        l3.setText(perso.nom + "     XP : " + perso.XP + "     PV : " + perso.PV);
        viePerso.setSize((int)(230.0*(double)(perso.PV)/(double)(perso.PVmax)), 5);
    }
    
    public void debutCombat(){
        b=false;
        int num = 1+((int)(5*Math.random()));
        int exp=1;
        if (lastmap==pmap3){
            exp=1+(int)(3*Math.random());
        }else if (lastmap==pmap4){
            exp=5+(int)(5*Math.random());
        }else if (lastmap==pmap8){         // à compléter avec toutes les map où il y a des trefles
            exp=11+(int)(8*Math.random());
        }else if (lastmap==pmap9){
            exp=21+(int)(13*Math.random());
        }else if (lastmap==pmap11){
            exp=50;        // 50=niveau du boss de l'arêne
        }
        advers = pokedex.get(num);
        if (num==1){
            lab2=new JLabel(new ImageIcon("Images/Aigloss.png"));
        }else if (num==2){
            lab2=new JLabel(new ImageIcon("Images/Murenss.png"));
        }else if (num==3){
            lab2=new JLabel(new ImageIcon("Images/Sunfure.png"));
        }else if (num==4){
            lab2=new JLabel(new ImageIcon("Images/Anemoniac.png"));
        }else if (num==5){
            lab2=new JLabel(new ImageIcon("Images/Pandalame.png"));
        }
        fond.add(lab2);
        lab2.setBounds(x1,y1,100,100);
        advers.XP = exp;
        advers.PVmax = advers.PVmax+(int)(Math.pow(exp, 1.2));
        advers.PV = advers.PVmax;
        l2.setText(advers.nom + "     XP : " + advers.XP + "     PV : " + advers.PV);
        vieAdv.setSize((int)(230.0*(double)(advers.PV)/(double)(advers.PVmax)), 5);
        
        if (advers.esquive>perso.esquive){ 
            t = new Timer(2000, this);
			t.start();
			freeze=true;
        }
	}
    
    public boolean finCombat(){
        boolean CombatFini = false;
        if(perso.PV<=0 || advers.PV<=0){
            CombatFini=true;
        } 
        return CombatFini;
    }
    
    public void graphAttak(boolean b2){ // b==true notre attaque / b==false attaque adverse
        if (b2==true){
            gif.setBounds(150,-80,600,300);
            gif.setVisible(true);
            Timer t4 = new Timer(1500, this);
            //freeze=true;
            t4.start();
        }
        
        if (b2==false){
            gif.setBounds(-150,40,600,300);
            gif.setVisible(true);
            Timer t4 = new Timer(1500, this);
            //freeze=true;
            t4.start();
        }
    }
    
    public static void pause(int ms) {
        try {
            Thread.sleep(ms);
        } catch (InterruptedException e){}
    }
}
